<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>JukaGUI Generator</title>
    <link data-rh="true" rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div class="header-content">
            <div class="title-container">
                <h1>JukaGUI Generator</h1>
                <p class="subtitle">The Ultimate Retro Handheld Device GUI Creator</p>
            </div>
            <div class="header-actions">
                <button id="darkModeToggle" class="dark-mode-toggle">
                    <i class="fas fa-moon"></i> Dark Mode
                </button>
                <button id="toggleGuide" class="action-button">
                    <i class="fas fa-question-circle"></i> Guide
                </button>
            </div>
        </div>

        <div id="guidePanel" class="steps-box">
            <div class="steps-header">
                <h2><i class="fas fa-lightbulb"></i> Getting Started Guide</h2>
                <button id="closeGuide" class="close-button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="steps-content">
                <div class="steps-content">
                    <ol>
                        <li>On desktop: Drag elements from the left sidebar to the canvas
                            <ul>
                                <li>Double-click elements to edit</li>
                                <li>Right-click + drag to resize images</li>
                                <li>Drag elements to reposition</li>
                            </ul>
                        </li>
                        <li>On mobile: Use the + button to add elements to the canvas
                            <ul>
                                <li>Tap elements to select and edit properties</li>
                                <li>Use drag handles to reposition elements</li>
                            </ul>
                        </li>
                        <li>Select elements to edit properties in the right sidebar</li>
                        <li>Use the "Download Config" button when finished</li>
                        <li>Combine with the JukaGUI template from <a
                                href="https://github.com/jukaLang/JukaGUI/releases">GitHub releases</a></li>
                    </ol>
                    Visit <a href="https://github.com/jukaLang/JukaGUI/wiki"
                        target="_blank">https://github.com/jukaLang/JukaGUI/wiki</a> for more info
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="editor-container">
            <!-- Left Sidebar - UI Elements -->
            <div class="sidebar left-sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-shapes"></i> UI Elements</h3>
                </div>
                <div class="elements-container">
                    <div class="element" draggable="true" data-type="button" title="Button">
                        <i class="fas fa-square"></i> Button
                    </div>
                    <div class="element" draggable="true" data-type="label" title="Label">
                        <i class="fas fa-font"></i> Label
                    </div>
                    <div class="element" draggable="true" data-type="image" title="Image">
                        <i class="fas fa-image"></i> Image
                    </div>
                    <div class="element" draggable="true" data-type="input" title="Input">
                        <i class="fas fa-edit"></i> Input
                    </div>
                    <div class="element" draggable="true" data-type="menu-element" title="Menu">
                        <i class="fa-solid fa-bars-progress"></i> Menu
                    </div>
                    <div class="element" draggable="true" data-type="dynamiclist" title="Dynamic List">
                        <i class="fas fa-list"></i> Dynamic List
                    </div>
                </div>
                <div class="variables-panel">
                    <div class="sidebar-header">
                        <h3><i class="fas fa-code"></i> Variables</h3>
                        <button id="addVariableButton" class="action-button small">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div id="variablesList" class="variables-list">
                        <!-- Variables will be added here -->
                    </div>
                </div>
            </div>

            <!-- Main Canvas Area -->
            <div class="canvas-area">
                <div class="canvas-header">
                    <div class="canvas-controls">
                        <div class="scene-controls">
                            <button class="action-button" onclick="addScene()">
                                <i class="fas fa-plus"></i> Add Scene
                            </button>
                            <select id="sceneSelector" onchange="changeScene()"></select>
                            <button class="action-button" onclick="renameScene()">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-button danger" onclick="deleteScene()">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button class="action-button" onclick="duplicateScene()">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <div class="file-controls">
                            <button id="clearButton" class="action-button danger">
                                <i class="fas fa-broom"></i> Clear All
                            </button>
                            <div class="file-input-container">
                                <label for="loadFile" class="file-button">
                                    <i class="fas fa-upload"></i> Load jukaconfig.json
                                </label>
                                <input type="file" id="loadFile" accept="application/json" style="display: none;">
                            </div>
                            <button class="action-button primary" onclick="createJukaApp()">
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                    </div>
                </div>
                <div class="canvas-container">
                    <div class="canvas" id="canvas"></div>
                </div>
            </div>

            <!-- Right Sidebar - Properties -->
            <div class="sidebar right-sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-sliders-h"></i> Properties</h3>
                </div>

                <div class="properties-tabs">
                    <button class="properties-tab active" data-tab="element-properties">Element</button>
                    <button class="properties-tab" data-tab="app-properties">App Info</button>
                </div>

                <!-- Element Properties -->
                <div id="elementPropertiesPanel" class="properties-panel">
                    <div id="elementProperties" class="element-properties">
                        <div class="position-controls">
                            <div class="control-group">
                                <label for="datax"><i class="fas fa-arrows-alt-h"></i> X:</label>
                                <input type="number" id="datax" class="coordinate-input">
                            </div>
                            <div class="control-group">
                                <label for="datay"><i class="fas fa-arrows-alt-v"></i> Y:</label>
                                <input type="number" id="datay" class="coordinate-input">
                            </div>
                            <div class="control-group">
                                <label for="dataWidth"><i class="fas fa-arrows-alt-h"></i> Width:</label>
                                <input type="number" id="dataWidth" class="coordinate-input">
                            </div>
                            <div class="control-group">
                                <label for="dataHeight"><i class="fas fa-arrows-alt-v"></i> Height:</label>
                                <input type="number" id="dataHeight" class="coordinate-input">
                            </div>
                        </div>

                        <div class="style-controls">
                            <div class="control-group">
                                <label for="colorPicker"><i class="fas fa-palette"></i> Text Color:</label>
                                <input type="color" id="colorPicker" class="color-picker" value="#000000">
                            </div>
                            <div class="control-group">
                                <label for="bgColorPicker"><i class="fas fa-fill"></i> BG Color:</label>
                                <input type="color" id="bgColorPicker" class="bg-color-picker" value="#ffffff">
                            </div>
                            <div class="control-group">
                                <label for="fontSizePicker"><i class="fas fa-text-height"></i> Font Size:</label>
                                <select id="fontSizePicker" class="font-size-picker">
                                    <option value="title">Title</option>
                                    <option value="big">Big</option>
                                    <option value="medium">Medium</option>
                                    <option value="small">Small</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label for="opacitySlider"><i class="fas fa-adjust"></i> Opacity:</label>
                                <input type="range" id="opacitySlider" min="0" max="100" value="100"
                                    class="opacity-slider">
                                <span id="opacityValue">100%</span>
                            </div>
                        </div>

                        <div class="trigger-controls">
                            <div class="control-group">
                                <label for="triggerSelector"><i class="fas fa-bolt"></i> Trigger:</label>
                                <select id="triggerSelector" class="trigger-selector">
                                    <option value="">None</option>
                                    <option value="change_scene">Change Scene</option>
                                    <option value="exit">Exit</option>
                                    <option value="external_app">External App</option>
                                    <option value="set_variable">Set Variable</option>
                                    <option value="play_video">Play Video</option>
                                    <option value="play_image">Fullscreen Image</option>
                                </select>
                            </div>

                            <div id="triggerOptions">
                                <select id="sceneChangeSelector" class="scene-change-selector"></select>
                                <input type="text" id="externalAppPath" class="external-app-path"
                                    placeholder="App path">
                                <input type="text" id="externalAppReturnVar" class="external-app-return-var"
                                    placeholder="Return variable">
                                <select id="variableChangeSelector" class="variable-change-selector"></select>
                                <input type="text" id="variableChangeValue" class="variable-change-value"
                                    placeholder="New value">
                                <select id="mediaVariableSelector" class="media-variable-selector"></select>
                            </div>
                        </div>
                        <div class="dynamic-list-properties" style="display: none;">
                            <div class="control-group">
                                <label for="dynamicCommand"><i class="fas fa-terminal"></i> Command Path:</label>
                                <input type="text" id="dynamicCommand" class="dynamic-command-input"
                                    placeholder="Path to executable">
                            </div>
                            <div class="control-group">
                                <label for="dynamicVariable"><i class="fas fa-code"></i> Variable:</label>
                                <select id="dynamicVariable" class="dynamic-variable-selector"></select>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- App Properties -->
                <div id="appInfoPanel" class="properties-panel active">
                    <div class="steps-content">
                        <div class="input-container">
                            <div class="input-group">
                                <label for="title"><i class="fas fa-heading"></i> Title:</label>
                                <input type="text" id="title" placeholder="App Title">
                            </div>
                            <div class="input-group">
                                <label for="author"><i class="fas fa-user"></i> Author:</label>
                                <input type="text" id="author" placeholder="Your Name">
                            </div>
                            <div class="input-group">
                                <label for="description"><i class="fas fa-align-left"></i> Description:</label>
                                <input type="text" id="description" placeholder="App description">
                            </div>
                            <div class="input-group">
                                <label for="canvasSize"><i class="fas fa-mobile-alt"></i> Device:</label>
                                <select id="canvasSize">
                                    <option value="1280x720">TSP (1280 x 720)</option>
                                    <option value="1024x768">Brick (1024 x 768)</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div id="customSizeFields" class="custom-size-fields">
                                <input type="number" id="customWidth" placeholder="Width" min="1">
                                <span>x</span>
                                <input type="number" id="customHeight" placeholder="Height" min="1">
                            </div>
                            <div class="input-group file-input-group">
                                <label for="backgroundFile"><i class="fas fa-image"></i> Background:</label>
                                <div class="file-input-container">
                                    <label for="backgroundFile" class="file-button">
                                        <i class="fas fa-upload"></i> Choose Image
                                    </label>
                                    <input type="file" id="backgroundFile" accept="image/*">
                                </div>
                            </div>
                        </div>
                        <div class="font-size-controls">
                            <h4><i class="fas fa-text-height"></i> Font Sizes</h4>
                            <div class="size-inputs">
                                <div class="size-group">
                                    <label for="titleSize">Title:</label>
                                    <input type="number" id="titleSize" value="48" min="10">
                                </div>
                                <div class="size-group">
                                    <label for="bigSize">Big:</label>
                                    <input type="number" id="bigSize" value="36" min="10">
                                </div>
                                <div class="size-group">
                                    <label for="mediumSize">Medium:</label>
                                    <input type="number" id="mediumSize" value="24" min="10">
                                </div>
                                <div class="size-group">
                                    <label for="smallSize">Small:</label>
                                    <input type="number" id="smallSize" value="18" min="10">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="contribute-banner">
            <p>
                Need help? Join us on <a href="https://discord.gg/R9qgJjh5jG"><i class="fab fa-discord"></i>
                    Discord</a>!
                Want to contribute? Visit our <a href="https://github.com/jukaLang/JukaGUI"><i
                        class="fab fa-github"></i> GitHub</a>
            </p>
        </div>
    </footer>
    <script src="script.js"></script>
</body>

</html>